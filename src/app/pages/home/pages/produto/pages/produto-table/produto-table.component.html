<app-custom-table-wrapper
    [headerButtons]="headerButtons"
    title="Produtos"
    [pageTotal]="pageTotal"
    (onPagination)="onPagination($event)"
>
    <ng-container *ngIf="tableData$ | async as tableData; else loading">
        <app-custom-table-body
            [cols]="cols"
            [data]="tableData.payload"
            (onSelection)="selectedProduto = $event"
        ></app-custom-table-body>
    </ng-container>
    <ng-template #loading>
        <app-custom-table-skeleton [cols]="cols"></app-custom-table-skeleton>
    </ng-template>
</app-custom-table-wrapper>

<ng-template #headerButtons>
    <app-filter-popup
      [orderOptions]="cols"
      [filterOptions]="cols"
    
      (onFilter)="onFilter($event)"

    ></app-filter-popup>
    <app-crud-buttonset
        [targetId]="selectedProduto?.id"
        message="Tem certeza que deseja excluir o produto selecionado?"
    ></app-crud-buttonset>
</ng-template>
