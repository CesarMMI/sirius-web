<app-custom-table-wrapper
    [headerButtons]="headerButtons"
    title="Empresas"
    [pageTotal]="pageCount"
    (onPagination)="onPagination($event)"
>
    <ng-container *ngIf="data$ | async as data; else loading">
        <app-custom-table-body
            [cols]="cols"
            [data]="data.payload"
            (onSelection)="onSelect($event)"
            [chooseMode]="true"
            (onChoose)="onChoose($event)"
        ></app-custom-table-body>
    </ng-container>
    <ng-template #loading>
        <app-custom-table-skeleton
            [cols]="cols"
            [chooseMode]="true"
        ></app-custom-table-skeleton>
    </ng-template>
</app-custom-table-wrapper>

<ng-template #headerButtons>
    <app-filter-popup
        (onFilter)="onFilter($event)"
        [orderOptions]="cols"
    ></app-filter-popup>
    <app-crud-buttonset
        [targetId]="selectedId"
        message="Tem certeza que deseja excluir o produto selecionado?"
    ></app-crud-buttonset>
</ng-template>
